<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />
		<title>Dropdown</title>
		
		
		<link rel="stylesheet" type="text/css" href="dropdown.css"/>
		<link rel="stylesheet" type="text/css" href="../../demo/css/reset.css"/>
		
		<script type="text/javascript" src="../../x-tag.js"></script>		
		<script type="text/javascript" src="dropdown.js"></script>		
	</head>

<body data-action-type="closeMenuBody">

<x-dropdown id="x-dropdown">
    <a href="#" data-action-type="openMenu">[show menu]</a>
    <ul>
        <li>toplev - 1</li>
        <li>toplev - 2</li>
        <x-dropdown id="x-dropdown-sub">
            <a href="#" data-action-type="openMenu">[show menu]</a>
            <ul>
                <li>2nd lev - 1</li>
                <li>2nd lev - 2</li>
                <li>2nd lev - 3</li>
            </ul>
        </x-dropdown>
        <li>toplev - 4</li>
    </ul>
</x-dropdown>

</body>

<script type="text/javascript">
    document.addEventListener('click', function(e){

        var action = e.target,
            parent = action.parentNode,
            actionType = action.getAttribute('data-action-type');

        if (actionType) {
            var tag = action.parentElement.id,
                demo = document.getElementById(tag);
            switch(actionType) {
                case 'openMenu':
                    demo.xtag.openMenu();
                    break;
                case 'closeMenu':
                    demo.xtag.closeMenu();
                    break;
                case 'closeMenuBody':
                    demo = document.getElementsByTagName('x-dropdown')[0];
                    demo.xtag.closeMenuBody();
            }
        }
});
</script>
</html>
